# NiceShot(3D作品)
この度は[NiceShot]をお手に取っていただき誠にありがとうございます。
この作品に対するコメントを明記します。

フォルダ構成：

|-source
 
      |-cpp(ソースファイル)

      |-h(ヘッダーファイル)

      |-project(ソリューションファイル)

      |-date-
      
      |-実行ファイルとREADME(このテキストデータ)

//--------------------------------------------------------------------------------------------------
      
実行環境：
Windows10

制作環境：
C/C++ Windows10 VisualStudio2017 DirextX9
C言語で制作したのち、ver2.0からC++を使用しています。現在はC++に書き換え終了。オブジェクト指向を意識したクラス設計にしています。

ゲーム説明：
四人対戦戦車TPSゲーム。画面分割でのローカル対戦とサーバーを介しての通信対戦を実現。フィールドに落ちてるアイテムを駆使して有利に戦おう。

「お知らせ」

　１、オンライン化を検討中(2020/09/16)

　２、本作でWinsock2を利用したTCP通信対戦をたぶん実装します(2020/09/22)

　３、TCP通信対戦を実装することが確定。それに伴い変更や追加箇所が変わります。詳しくは[今後の改善点拡張点ver4.0]参照(2020/11/02)

　４、LANやWANでの通信ができない現象について原因判明。これを修正するのにはソケット設計から作り直す必要がある(2020/01/06)
 
  ５、LANやWANでの通信ができない現象について原因特定。異なるバッファサイズでデータストリームの送受信をしていたー＞recv()send()のバッファを統一させることで改善確認。４のソケット設計見直しはしなくてよい(2020/01/09)
  
  ６、LAN,WAN通信確認。ともに動作OK。WANに関して、たまにreceiveのタイミングでクラッシュする。この問題はエラーキャンセル処理を入れると改善させるかもしれない。ひとまずは通信に関してひと段落した。(2020/01/13)

操作説明：
Logicool G ゲームパッド F310r 有線 usb PCゲーム用 Windows版推奨 国内正規品ー＞同一のコントローラーを使用しております。

ver2のみ     操作方法　A：前進　B：後退　X：発射　アナログL：旋回　L1R1：砲塔回転

ver1、3以降   操作方法　アナログL:前進後退旋回　アナログR：視点移動(砲塔回転)　R1：発射

//--------------------------------------------------------------------------------------------------

制作者：
木村純

制作人数：
一人

制作期間：

約1ヵ月 ver1.0 2020/1～2020/2　ゲームの形になり始めたころ。地形の自動生成やモーフィング、レイキャストなど実装。

約2ヵ月 ver1.1 2020/2～2020/4　操作性や高速化など実装。

約4ヵ月 ver2.0 2020/4～2020/8　通信機能やモーションブレンドなど実験成功。ライブラリの自作や弾道予測ラインの実装。

約1ヵ月 ver2.1 2020/8～2020/9　姿勢制御の球面線形補間実装。若干変なとこがあるがおおよそ問題なし。

約半ヵ月 ver3.0 2020/9～2020/9　システムやゲームっぽさの向上。特徴がバラバラのモデル、戦車の動き、ゲームシステムを再設計して実装予定。

約半ヵ月 ver3.1 2020/9～2020/10　c++変換作業

約1か月 ver4.0 2020/11～12 TCP通信化。パット見てわかるようなUI。

予定    ver4.1 2020/12～2021/1　LAN、WAN通信完成。通信専用アイテムミニマップ。簡単なエネミーAI。キーボードマウス操作(検討)。


担当範囲：
フォルダ内のすべてのプログラムファイル

//--------------------------------------------------------------------------------------------------

制作した理由：
初めての3D作品制作で、変化というワードをもとに企画しました。
地形の自動生成やモーフィング処理によるプレイヤーモデルの変形を実装する事ができました。
HitBallTargetの時にテストプレイをしてもらい肌で感じたのは、楽しんでいる気分を他の人とも共感しながら盛り上がれるような作品を作りたいと考え4人対戦できるようにしました。

//--------------------------------------------------------------------------------------------------

作品動画：
3月末 ver1.1
https://www.youtube.com/watch?v=Rg5bdDfClKc&t=0s

7月末 ver2.0
https://www.youtube.com/watch?v=oA6iKpiPQfM&t=0s

12月末　ver4.0
https://www.youtube.com/watch?v=WCX68YjK4jY

//--------------------------------------------------------------------------------------------------

今後の改善点拡張点：

ver1.0----------------------------------------------------

1 通信機能によるオンライン対戦化(winsockを利用した通信プログラムTCP/UDP通信実験成功。)ー＞
本作で実装しないことを決定。代わりに2DゲームのスコアをDB管理、実装予定(FireBaseを使う予定)/2020/09/16ー＞
(「お知らせ」本作でWinsock2を利用したTCP通信対戦をたぶん実装します。/2020/09/22)

2 当たり判定の高速化(4分木による地面との当たり判定高速化を実装済み/2020/3/20)

3 ホーミングを調整し弾道予測ラインを入れる(弾道予測ライン実装済み/2020/07/26)
 
4 頂点間移動時に球面補間等を用いてカクカクを減らすーー＞＞(球面線形補間実装済み/2020/09/07)

ver2.0----------------------------------------------------

テストプレイ報告(バグやシステム面での話)/2020/07/27 追加

1　全体的におじゃまアイテムの時間が長い(300frameから150frameに変更)

2　残りの人数で出現するアイテムの確率を変えたほうがいい

3　時間が長引くことがあるため、残り1VS1になったら制限時間を付けるなどの工夫が欲しい

4　大砲の一撃が弱い。戦車なら動きが遅いが攻撃力は高いなどのバランスがあるといいーー＞＞戦車の種類を増やしてスピードタイプ、パワータイプなど好きなタイプを選べてプレイできると面白いかも

5　戦車のスピードを遅くしたほうがいい。早いからジグザグに動くだけで簡単に避けれる。ーー＞＞4と同じ対応したらいいかも

6　バレット被弾成功時のリワードをわかりやすくしたほうがいい。ライフのビルボードが割れて飛んでいくみたいな

実感として、ゲーム性を高めるための仕様を考えたほうがいいかもーー＞＞戦車の体力やスピード、移動方法、移動の仕方をしっかり練ったほうがいいかも。

ver3.0------------------------------------------------------

1
タイトルー＞練習ー＞プレイヤー人数選択ー＞タイトルに戻れる。
タイトルー＞バトルー＞プレイヤー人数選択(人数がそろわない場合はAI制御)、チーム選択？検討中ー＞バトルー＞リザルトー＞タイトル
(プレイヤー人数やチーム戦？以外は実装完了2020/09/17ー＞AIやチーム戦については実装しない？)

2
モデルを選べる(アイテムで変形)ー＞パワー型、スピード型、オールラウンド型
　パワー型ー＞動き遅い、体力多い、攻撃高い、常時3方向、弾の量が少ない、パワーアップでバレットのサイズがでかくなる、スピード普通、
　スピード型ー＞動き早い、体力少ない、攻撃低い、常時1方向、弾の量が多い、パワーアップで分身がでる(弾回復速度アップ、攻撃中)
　オールラウンド型ー＞動き普通、体力普通、攻撃普通、常時2方向、弾の量が普通、パワーアップで常時三方向、スピード高い

3
弾が当たった時のリワード(エフェクト)を強くするー＞プレイヤーがうれしくなるように
体力が減らせた感じ

4
アイテムの確率ー＞残り人数やタイムに応じて変える

5
射線きれるオブジェクト追加ー＞攻撃で壊れる。戦略の幅が増える

ver3.1------------------------------------------------------

1
C++への書き換えを早急に(2020/09/28無事終了、今までと同じ動作のまま書き換えることができた)


ver4.0------------------------------------------------------

1
通信とローカル対戦できるように(2020/12/7 同期処理完了。通信対戦実装完了)ー＞WANやLAN間で通信するときに不具合が生じる。

2
通信専用アイテムー＞相手の場所がわかるアイテム(ミニマップ)

3
地形変形ー＞有利か不利かわからない。もっと有利ってわかるように

4
パット見てわかるようなUI目指そうー＞今の体力や状態のUIはわからない

5
弾を撃ったら煙のパーティクル


//--------------------------------------------------------------------------------------------------

ひとこと：

2020/03/31

目的であった友達複数人でプレイしたときに盛り上がれるようなゲームを制作することができたと個人的に思っています。
ですが、まだまだ改善の余地がありもっと面白くできそう。
今後もスキルに磨きをかけながら良い作品を作っていきたい。
テストプレイに関わってくれた方々ありがとうございます。

2020/09/29

C言語からC++への変換作業がとても大変でした。。。
2週間程度しか期間がなく、元の状態からオブジェクト指向に書き換えるのは苦労しました。
ポリモーフィズムやカプセル化、インヘリタンスを考えながら設計することができた。
授業でのC++知識だと通用しなかったので参考書やネットで調べながら取り組めたが、
正しくコーディングできているかは、まだちょっと自信がない。
色んな人のコードを読んで、もっと力をつけていきたい。

2020/11/02

10月中は別の作業があり進めることができなかった。
これからは無理をしてでも時間をとれるようにするので、制作を進めていきたいです。

2021/1/5

通信機能はほぼ実装できて、あとはLAN,WAN間での通信不良を修正すれば通信が完成する。
ゲームの面白さを追求するか、新しい技術を取り入れるためにどんなことを勉強するかなど、
今回は色々考えることができました。いまはまだスキルを身に付けていきたいので、どんどん新しいことを勉強していきます。
レイトレーシングや物理演算の勉強も今後やってみたいです。

2021/1/9

近い目標としてLAN、WAN通信完成。通信専用アイテムミニマップの実装。簡単なエネミーAIの実装。キーボードマウス操作の実装(検討)。
